<div class="sidebar" [class.collapsed]="isCollapsed">
    <div class="sidebar-header">
        <div class="sidebar-brand">
            <i class="fas fa-graduation-cap"></i>
            <span class="brand-text" *ngIf="!isCollapsed">EduGalaxy</span>
        </div>
    </div>

    <div class="sidebar-menu">
        @if(menuConfig.groups.length > 0){
        @for(group of menuConfig.groups; track $index) {
        <ng-container>
            @if(group.items && group.items.length > 0){
            <div class="menu-group">
                @if(!isCollapsed && group.label){
                <div class="menu-group-header">
                    <span class="group-label">{{ group.label }}</span>
                </div>
                }

                <ul class="menu-list">
                    <li class="menu-item" *ngFor="let item of group.items">
                        <div class="menu-divider" *ngIf="item.divider"></div>
                        <a *ngIf="!item.divider" class="menu-link"
                            [class.active]="item.route && isActiveRoute(item.route)" [routerLink]="item.route || ''"
                            (click)="onMenuItemClick(item)" [title]="isCollapsed ? item.label : ''"
                            [attr.href]="item.route ? null : 'javascript:void(0)'">
                            <i class="menu-icon" *ngIf="item.icon" [ngClass]="item.icon"></i>

                            <span class="menu-text" *ngIf="!isCollapsed">{{ item.label }}</span>
                            <span class="menu-badge" *ngIf="item.badge && !isCollapsed"
                                [class]="'badge-' + (item.badge.color || 'primary')">
                                {{ item.badge.text }}
                            </span>
                        </a>

                        <ul class="submenu" *ngIf="item.children && item.children.length > 0 && !isCollapsed">
                            <li class="submenu-item" *ngFor="let child of item.children">
                                <a class="submenu-link" [class.active]="child.route && isActiveRoute(child.route)"
                                    [routerLink]="child.route || ''" (click)="onMenuItemClick(child)"
                                    [attr.href]="child.route ? null : 'javascript:void(0)'">
                                    <i class="submenu-icon" *ngIf="child.icon" [ngClass]="child.icon"></i>

                                    <span class="submenu-text">{{ child.label }}</span>
                                </a>
                            </li>
                        </ul>
                    </li>
                </ul>
            </div>
            }
        </ng-container>
        }
        }
    </div>

    <div class="sidebar-footer" *ngIf="!isCollapsed">
        <div class="footer-info">
            <small class="text-muted">EduGalaxy v1.0</small>
        </div>
    </div>
</div>

<div class="sidebar-overlay" [class.show]="!isCollapsed" (click)="headerToggleEvent()"></div>